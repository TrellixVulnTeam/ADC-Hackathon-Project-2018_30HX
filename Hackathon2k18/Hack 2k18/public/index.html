<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ADC</title>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link href="css/mdb.css" rel="stylesheet">

  <script src="https://www.gstatic.com/firebasejs/4.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/4.11.0/firebase.js"></script>
  <style>
  .hide{
      display: none;
  }
  .view,body,html{height:100%}@media (max-width:740px){.full-page-intro{height:1000px}}.carousel{height:50%}.carousel .carousel-inner,.carousel .carousel-inner .active,.carousel .carousel-inner .carousel-item{height:100%}@media (max-width:776px){.carousel{height:100%}}.navbar{background-color:rgba(0,0,0,.3)}.page-footer,.top-nav-collapse{background-color:#1C2331}@media only screen and (max-width:768px){.navbar{background-color:#1C2331}}
  </style>
</head>

<body>

  <!-- Navbar -->
  <nav class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar">
    <div class="container">

      <!-- Brand -->
      <a class="navbar-brand" href="#">
        <strong>After Death Care</strong>
      </a>

     

      <!-- Links -->
      <div class="collapse navbar-collapse" id="navbarSupportedContent">

        <!-- Left -->
        <ul class="navbar-nav mr-auto">
          
        </ul>

      </div>

    </div>
  </nav>
  <!-- Navbar -->

  <!-- Full Page Intro -->
  <div class="view full-page-intro" style="background-image: url('https://mdbootstrap.com/img/Photos/Others/images/78.jpg'); background-repeat: no-repeat; background-size: cover;">

    <!-- Mask & flexbox options-->
    <div class="mask rgba-black-light d-flex justify-content-center align-items-center">

      <!-- Content -->
      <div class="container">

        <!--Grid row-->
        <div class="row wow fadeIn">

          <!--Grid column-->
          <div class="col-md-4">
          </div>
          <!--Grid column-->

          <!--Grid column-->
          <div class="col-md-4">

            
                <div class="card border border-white z-depth-5 animated fadeInRight" style="background:transparent;">
                    <div class="card-body text-center">
              	<p><h3 class="h3-responsive white-text text-center">I Want To</h3></p><br>
<a href="registervan.html"><button type="button" class="btn btn-light-blue btn-lg btn-block"><i class="fa fa-ambulance mr-3"></i>Register a Van</button></a>
<br>

<button type="button" data-toggle="modal" data-target="#modalContactForm" class="btn btn-light-blue btn-lg btn-block"><i class="fa fa-hospital-o mr-3"></i>Login as Hospital Admin</button>

</div>
</div>
              

          </div>
          <!--Grid column-->
          <div class="col-md-4">
          </div>

        </div>
        <!--Grid row-->

      </div>
      <!-- Content -->

    </div>
    <!-- Mask & flexbox options-->

  </div>
  <!-- Full Page Intro -->

    
<div class="modal fade" data-backdrop="false" id="userContactForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <!--Modal: Contact form-->
    <div class="modal-dialog cascading-modal" role="document">

        <!--Content-->
        <div class="modal-content">

            <!--Header-->
            <div class="modal-header primary-color white-text">
                <h4 class="title">
                    <i class="fa fa-hospital"></i>User Login</h4>
                <button type="button" class="close waves-effect waves-light" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <!--Body-->
            <div class="modal-body">

                <!-- Material input name -->
                <div class="md-form form-sm">
                    <i class="fa fa-envelope prefix"></i>
                    <input type="text" id="phnoaa" class="form-control form-control-sm">
                    <label for="materialFormNameModalEx1">Enter Phone No</label>
                </div>


              

                <div class="text-center mt-4 mb-2">
                    <button id="mobilesignin" class="btn btn-primary">Sign In
                        <i class="fa fa-sign-in ml-2"></i>
                    </button>
                </div>

            </div>
        </div>
        <!--/.Content-->
    </div>
    <!--/Modal: Contact form-->
</div>                  

<div class="modal fade" data-backdrop="false" id="modalContactForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <!--Modal: Contact form-->
    <div class="modal-dialog cascading-modal" role="document">

        <!--Content-->
        <div class="modal-content">

            <!--Header-->
            <div class="modal-header primary-color white-text">
                <h4 class="title">
                    <i class="fa fa-hospital"></i>Hospital Login</h4>
                <button type="button" class="close waves-effect waves-light" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <!--Body-->
            <div class="modal-body">

                <!-- Material input name -->
                <div class="md-form form-sm">
                    <i class="fa fa-envelope prefix"></i>
                    <input type="text" id="shospid" class="form-control form-control-sm">
                    <label for="materialFormNameModalEx1">Hospital Id</label>
                </div>

                <!-- Material input email -->
                <div class="md-form form-sm">
                    <i class="fa fa-lock prefix"></i>
                    <input type="password" id="pass" class="form-control form-control-sm">
                    <label for="materialFormEmailModalEx1">Password</label>
                </div>

              

                <div class="text-center mt-4 mb-2">
                    <button id="signin" class="btn btn-primary">Sign In
                        <i class="fa fa-sign-in ml-2"></i>
                    </button>
                </div>

                <div class="text-center mt-4 mb-2">
                    <button class="btn btn-primary" data-dismiss="modal" onclick="hideaa()"  data-toggle="modal" data-target="#exampleModal">Sign Up
                        <i class="fa fa-sign-in ml-2"></i>
                    </button>
                </div>


            </div>
        </div>
        <!--/.Content-->
    </div>
    <!--/Modal: Contact form-->
</div>
                      
<!--Generate driver login form-->
<!-- Modal -->
<div class="modal  animated zoomIn" data-backdrop="false" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <!--Modal: Contact form-->
    <div class="modal-dialog modal-lg cascading-modal" role="document">

        <!--Content-->
        <div class="modal-content">

            <!--Header-->
            <div class="modal-header primary-color white-text">
                <h4 class="title">
                    <i class="fa fa-pencil"></i>Hospital Registration</h4>
                <button type="button" class="close waves-effect waves-light" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <!--Body-->
            <div class="modal-body">
        <div class="row">
        <!-- Grid column -->
        <div class="col">
            <!-- Material input -->
            
                <div class="md-form form-sm">
                    <i class="fa fa-hospital-o prefix"></i>
                    <input type="text" id="hospid" class="form-control form-control-sm">
                    <label for="hospid">Hospital Reg ID</label>
                </div>
        </div>
        <!-- Grid column -->

        <!-- Grid column -->
        <div class="col">
            
                <div class="md-form form-sm">
                    <i class="fa fa-hospital-o prefix"></i>
                    <input type="text" id="hospname" class="form-control form-control-sm">
                    <label for="hospname">Hospital Name</label>
                </div>
        </div>
        <!-- Grid column -->
    </div>


                <div class="md-form form-sm">
                    <i class="fa fa-hospital-o prefix"></i>
                    <input type="text" id="hospadd" class="form-control form-control-sm">
                    <label for="hospadd">Hopital Address</label>
                </div>
                <!-- Material input name -->
                <div class="md-form form-sm">
                    <i class="fa fa-envelope prefix"></i>
                    <input type="text" id="pin" class="form-control form-control-sm">
                    <label for="pin">Pin Code</label>
                </div>
                <div class="row">
        <!-- Grid column -->
        <div class="col">
            <!-- Material input -->
            
                <div class="md-form form-sm">
                    <i class="fa fa-phone prefix"></i>
                    <input type="text" id="phone" class="form-control form-control-sm">
                    <label for="phone">Mobile No</label>
                </div>
        </div>
        <!-- Grid column -->

        <!-- Grid column -->
        <div class="col">
            
                <div class="md-form form-sm">
                    <i class="fa fa-phone prefix"></i>
                    <input type="text" id="contact" class="form-control form-control-sm">
                    <label for="contact">Contact No</label>
                </div>
        </div>
        <!-- Grid column -->
    </div>
                <div class="md-form form-sm">
                    <i class="fa fa-user prefix"></i>
                    <input type="text" id="adminname" class="form-control form-control-sm">
                    <label for="adminname">Administrator Name</label>
                </div>
      

      <div class="row">
        <div class="col">
          <div class="md-form">
          <span class="grey-text">Upload Address Proof</span>
        </div>
        </div>
        <!-- Grid column -->
        <div class="col">
                  <div class="md-form">
      <input type="file" id="uhospadd">
                  </div>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <div class="md-form">
          <span class="grey-text">Upload Hospital Certificate</span>
        </div>
        </div>
        <!-- Grid column -->
        <div class="col">
                  <div class="md-form">
      <input type="file" id="uhospcerf">
                  </div>
        </div>
      </div>


                <div class="text-center mt-4 mb-2">
                    <button class="btn btn-primary" id="Reg">Register
                        <i class="fa fa-sign-in ml-2"></i>
                    </button>
                </div>
                <script type="text/javascript">

     function hideaa(){
$('#Reg').hide();
     }

    
                  
                </script>

            </div>
        </div>
        <!--/.Content  data-dismiss="modal"-->
    </div>
    <!--/Modal: Contact form-->
</div>


  <!-- SCRIPTS -->
  <!-- JQuery -->
  <script type="text/javascript">
   (function(){


// Initialize Firebase
  var config = {
    apiKey: "AIzaSyDZcLIz_1tbIUApRytA1ciq4r2lBU0PCNc",
    authDomain: "adch-9c89f.firebaseapp.com",
    databaseURL: "https://adch-9c89f.firebaseio.com",
    projectId: "adch-9c89f",
    storageBucket: "adch-9c89f.appspot.com",
    messagingSenderId: "196006506550"
  };
  firebase.initializeApp(config);
//get elements
const hospid=document.getElementById('hospid');
const hospname=document.getElementById('hospname');
const hospadd=document.getElementById('hospadd');
const pin=document.getElementById('pin');
const phone=document.getElementById('phone');
const contact=document.getElementById('contact');
const adminname=document.getElementById('adminname');
const uhospadd=document.getElementById('uhospadd');
const uhospcerf=document.getElementById('uhospcerf');
const Reg=document.getElementById('Reg');
const shospid=document.getElementById('shospid');
const pass=document.getElementById('pass');
const signin=document.getElementById('signin');


signin.addEventListener('click',e=>{
var username=shospid.value;
var pass1=pass.value;
var ref = firebase.database().ref().child('hosp-detail').child(username);
//var ref1 = firebase.database().ref().child('hosp-detail').child(username).child(pass1);
ref.once('value',function(snap){
  if (snap.exists() && snap.child('pass').val()==pass1) {
      console.log('ok');
      window.location='hospitalhome.html';
  }
    else{
      alert('Invalid Crediantials');
    }
});

});


Reg.addEventListener('click', e=>{
var hospid1=hospid.value;
console.log(hospid1);
var hospname1=hospname.value;
console.log(hospname1);
var hospadd1=hospadd.value;
var pin1=pin.value;
var phone1=phone.value;
var contact1=contact.value;
var adminname1=adminname.value;
var write = firebase.database().ref().child('Register-hosp').child(hospid1).child('info');
write.set({hospid: hospid1,hospname: hospname1,hospadd: hospadd1,pin: pin1,phone: phone1,contact: contact1,adminname: adminname1});
});


//for Rc file upload
uhospadd.addEventListener('change', function(e){
    //get file
var hospid1=hospid.value;
//console.log(email1);
 var file = e.target.files[0];

    //create a storage ref
var storageRef = firebase.storage().ref('Registration/' + file.name);

    //upload file
var task = storageRef.put(file);

    //update progress bar
task.on('state_changed',

        function progress(snapshot){
         
        },
        function error(err){

        },
        function complete(){
            console.log('ok');
            var write = firebase.database().ref().child('Register-hosp').child(hospid1).child('doc').child('hosp-add');
            write.set({image:task.snapshot.downloadURL});
                    
        }

    );

});


//for Rc file upload
uhospcerf.addEventListener('change', function(e){
    //get file
var hospid1=hospid.value;
//console.log(email1);
 var file = e.target.files[0];

    //create a storage ref
var storageRef = firebase.storage().ref('Registration/' + file.name);

    //upload file
var task = storageRef.put(file);

    //update progress bar
task.on('state_changed',

        function progress(snapshot){
         
        },
        function error(err){

        },
        function complete(){
            console.log('ok');
            var write = firebase.database().ref().child('Register-hosp').child(hospid1).child('doc').child('hosp-certify');
            write.set({image:task.snapshot.downloadURL});
             $('#Reg').show();       
        }

    );

});
    }());
  </script>
  <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="js/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="js/mdb.min.js"></script>
  
  <!-- Initializations -->
  <script type="text/javascript">
    // Animations initialization
    new WOW().init();
  </script>
</body>

</html>